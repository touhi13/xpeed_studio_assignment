{"version":3,"sources":["constants.js","DropZone.jsx","TrashDropZone.jsx","SideBarItem.jsx","Popup.jsx","Component.jsx","Column.jsx","Row.jsx","initial-data.js","helpers.js","TextArea.jsx","example.jsx","index.js"],"names":["ROW","COLUMN","SIDEBAR_ITEMS","id","shortid","generate","type","component","content","ACCEPTS","DropZone","_ref","data","onDrop","isLast","className","_useDrop","useDrop","accept","drop","item","monitor","canDrop","dropZonePath","path","splitDropZonePath","split","itemPath","splitItemPath","length","childrenCount","pathToItem","slice","join","currentItemIndex","Number","pathToDropZone","currentDropZoneIndex","collect","isOver","shallow","_useDrop2","Object","slicedToArray","_useDrop2$","isActive","console","log","react_default","a","createElement","classNames","active","ref","TrashDropZone","layout","itemPathRowIndex","itemRowChildrenLength","children","SideBarItem","_useDrag","useDrag","opacity","isDragging","_useDrag2","drag","style","Popup","setIsOpen","itemId","Fragment","onClick","border","padding","backgroundColor","cursor","Component","components","useRef","_useState","useState","_useState2","isOpen","objectSpread","src_Popup","Column","handleDrop","componentType","concat","map","index","currentPath","key","src_DropZone","src_Component","renderComponent","Row","column","lib","enable","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","src_Column","renderColumn","initialData","component0","component1","component2","component3","component4","reorderChildren","dropZoneIndex","list","startIndex","endIndex","result","Array","from","_result$splice","splice","removed","reorder","updatedChildren","toConsumableArray","curIndex","splitDropZoneChildrenPath","splitItemChildrenPath","nodeChildren","removeChildFromChildren","itemIndex","arr","addChildToChildren","newItem","handleMoveToDifferentParent","newLayoutStructure","COLUMN_STRUCTURE","ROW_STRUCTURE","updatedLayout","layoutCopy","row","handleAddColumDataToRow","TextArea","fullObject","setFullObject","useEffect","value","pretty","JSON","stringify","undefined","defaultValue","name","cols","rows","Container","initialLayout","initialComponents","setLayout","_useState3","_useState4","setComponents","handleDropToTrashBin","useCallback","dropZone","handleRemoveItemFromLayout","newComponent","defineProperty","handleMoveSidebarComponentIntoParent","handleMoveWithinParent","values","sideBarItem","src_SideBarItem","src_Row","renderRow","src_TrashDropZone","src_TextArea","renderTextArea","App","DndProvider","backend","Backend","example","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.89fd70e8.chunk.js","sourcesContent":["import shortid from \"shortid\";\n\nexport const SIDEBAR_ITEM = \"sidebarItem\";\nexport const ROW = \"row\";\nexport const COLUMN = \"column\";\nexport const COMPONENT = \"component\";\n\nexport const SIDEBAR_ITEMS = [\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"input\",\n      content: \"Some input\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"name\",\n      content: \"Some name\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"email\",\n      content: \"Some email\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"phone\",\n      content: \"Some phone\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"image\",\n      content: \"Some image\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"row\",\n      content: \"Some row\"\n    }\n  }\n  ,\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"column\",\n      content: \"Some column\"\n    }\n  }\n];\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { useDrop } from \"react-dnd\";\nimport { COMPONENT, SIDEBAR_ITEM, ROW, COLUMN } from \"./constants\";\n\n// console.log(SIDEBAR_ITEMS);\nconst ACCEPTS = [SIDEBAR_ITEM, COMPONENT, ROW, COLUMN];\n// console.log(ACCEPTS);\nconst DropZone = ({ data, onDrop, isLast, className }) => {\n  // console.log({ data, onDrop, isLast, className });\n  const [{ isOver, canDrop }, drop] = useDrop({\n    accept: ACCEPTS,\n    drop: (item, monitor) => {\n      onDrop(data, item);\n    },\n    canDrop: (item, monitor) => {\n      // console.log(monitor);\n\n      const dropZonePath = data.path;\n      const splitDropZonePath = dropZonePath.split(\"-\");\n      const itemPath = item.path;\n      // console.log(splitDropZonePath);\n      // console.log(itemPath);\n      // sidebar items can always be dropped anywhere\n      if (!itemPath) {\n        // if (data.childrenCount >= 3) {\n        //  return false;\n        // }\n        return true;\n\n      }\n      \n      const splitItemPath = itemPath.split(\"-\");\n\n      // limit columns when dragging from one row to another row\n      const dropZonePathRowIndex = splitDropZonePath[0];\n      const itemPathRowIndex = splitItemPath[0];\n      const diffRow = dropZonePathRowIndex !== itemPathRowIndex;\n      if (\n        diffRow &&\n        splitDropZonePath.length === 2 &&\n        data.childrenCount >= 3\n      ) {\n        return false;\n      }\n \n      // Invalid (Can't drop a parent element (row) into a child (column))\n      const parentDropInChild = splitItemPath.length < splitDropZonePath.length;\n      if (parentDropInChild) return false;\n\n      // Current item can't possible move to it's own location\n      if (itemPath === dropZonePath) return false;\n\n      // Current area\n      if (splitItemPath.length === splitDropZonePath.length) {\n        const pathToItem = splitItemPath.slice(0, -1).join(\"-\");\n        const currentItemIndex = Number(splitItemPath.slice(-1)[0]);\n\n        const pathToDropZone = splitDropZonePath.slice(0, -1).join(\"-\");\n        const currentDropZoneIndex = Number(splitDropZonePath.slice(-1)[0]);\n\n        if (pathToItem === pathToDropZone) {\n          const nextDropZoneIndex = currentItemIndex + 1;\n          if (nextDropZoneIndex === currentDropZoneIndex) return false;\n        }\n      }\n\n      return true;\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver({ shallow: true }),\n      canDrop: monitor.canDrop()\n\n    })\n  });\n\n  const isActive = isOver && canDrop;\n  console.log(isOver, canDrop);\n  return (\n    <div\n      className={classNames(\n        \"dropZone\",\n        { active: isActive, isLast },\n        className\n      )}\n      ref={drop}\n    />\n  );\n};\nexport default DropZone;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { useDrop } from \"react-dnd\";\nimport { COMPONENT, ROW, COLUMN } from \"./constants\";\n\nconst ACCEPTS = [ROW, COLUMN, COMPONENT];\n\nconst TrashDropZone = ({ data, onDrop }) => {\n  const [{ isOver, canDrop }, drop] = useDrop({\n    accept: ACCEPTS,\n    drop: (item, monitor) => {\n      onDrop(data, item);\n    },\n    canDrop: (item, monitor) => {\n      const layout = data.layout;\n      const itemPath = item.path;\n      const splitItemPath = itemPath.split(\"-\");\n      const itemPathRowIndex = splitItemPath[0];\n      const itemRowChildrenLength =\n        layout[itemPathRowIndex] && layout[itemPathRowIndex].children.length;\n\n      // prevent removing a col when row has only one col\n      if (\n        item.type === COLUMN &&\n        itemRowChildrenLength &&\n        itemRowChildrenLength < 2\n      ) {\n        return false;\n      }\n\n      return true;\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n\n  const isActive = isOver && canDrop;\n  return (\n    <div\n      className={classNames(\"trashDropZone\", { active: isActive })}\n      ref={drop}\n    >\n      TRASH\n    </div>\n  );\n};\nexport default TrashDropZone;\n","import React from \"react\";\nimport { useDrag } from \"react-dnd\";\n\nconst SideBarItem = ({ data }) => {\n  // console.log(data);\n  const [{ opacity }, drag] = useDrag({\n    item: data,\n    collect: monitor => ({\n      opacity: monitor.isDragging() ? 0.4 : 1\n    })\n  });\n  \n  return (\n    <div className=\"sideBarItem\" ref={drag} style={{ opacity }}>\n      {data.component.type}\n    </div>\n  );\n};\nexport default SideBarItem;\n","import React from 'react';\n\nconst Popup = ({setIsOpen, itemId}) => {  \n    // console.log(itemId, setIsOpen(true));\n    return (\n       \n          <>\n            <div className=\"overlay\"></div>\n            <div className=\"modal\">\n              <header className=\"modal__header\">\n                <h2>Item Id</h2>\n                <button onClick={()=>{setIsOpen(false)}} className=\"close-button\">&times;</button>\n              </header>\n              <main className=\"modal__main\">\n                <p>{itemId}</p>\n              </main>\n            </div>\n          </>\n    );\n};\n\nexport default Popup;","import React, { useState, useRef } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { COMPONENT } from \"./constants\";\nimport Popup from \"./Popup\";\n\nconst style = {\n  border: \"1px dashed black\",\n  padding: \"0.5rem 1rem\",\n  backgroundColor: \"white\",\n  cursor: \"move\"\n};\nconst Component = ({ data, components, path }) => {\n\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: { type: COMPONENT, id: data.id, path },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(ref);\n\n  const component = components[data.id];\n  // console.log(component, data.id);\n\n\n  //popup\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <div\n        ref={ref}\n        style={{ ...style, opacity }}\n        className=\"component draggable\"\n        onClick={() => { setIsOpen(true) }}\n      >\n        <div>{data.id}</div>\n        <div>{component.content}</div>\n\n      </div>\n      {/* {console.log(isOpen, data.id)} */}\n      {isOpen && (\n        // console.log(isOpen,data.id)\n        <Popup setIsOpen={setIsOpen} itemId={data.id} />\n      )}\n    </>\n  );\n};\nexport default Component;\n","import React, { useRef } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { COLUMN } from \"./constants\";\nimport DropZone from \"./DropZone\";\nimport Component from \"./Component\";\n\nconst style = {};\nconst Column = ({ data, components, handleDrop, path }) => {\n  // console.log(data, components)\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      type: COLUMN,\n      id: data.id,\n      children: data.children,\n      path\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(ref);\n\n  const renderComponent = (component, currentPath) => {\n    return (\n      <Component\n        key={component.id}\n        data={component}\n        components={components}\n        path={currentPath}\n      />\n    );\n  };\n\n  return (\n    <div\n      ref={ref}\n      style={{ ...style, opacity }}\n      className=\"base draggable column\"\n    >\n      {data.componentType !== 'column' ? data.id : `new column ${data.id}`}\n\n      {\n      data.componentType !== 'column' &&\n        data.children.map((component, index) => {\n          const currentPath = `${path}-${index}`;\n\n          return (\n            <React.Fragment key={component.id}>\n              <DropZone\n                data={{\n                  path: currentPath,\n                  childrenCount: data.children.length\n                }}\n                onDrop={handleDrop}\n              />\n              {renderComponent(component, currentPath)}\n            </React.Fragment>\n          );\n        })}\n      <DropZone\n        data={{\n          path: `${path}-${data.children.length}`,\n          childrenCount: data.children.length\n        }}\n        onDrop={handleDrop}\n        isLast\n      />\n    </div>\n  );\n};\nexport default Column;\n","import React, { useRef } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { ROW } from \"./constants\";\nimport DropZone from \"./DropZone\";\nimport Column from \"./Column\";\nimport { Resizable } from \"re-resizable\";\n\nconst style = {};\nconst Row = ({ data, components, handleDrop, path }) => {\n  // console.log(data);\n  // console.log(components);\n  // console.log(handleDrop);\n  // console.log(path);\n\n\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      type: ROW,\n      id: data.id,\n      children: data.children,\n      path\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(ref);\n\n  const renderColumn = (column, currentPath) => {\n    return (\n      <Resizable enable={{ top: false, right: true, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n      >\n        <Column\n          key={column.id}\n          data={column}\n          components={components}\n          handleDrop={handleDrop}\n          path={currentPath}\n        />\n      </Resizable>\n\n    );\n  };\n  // console.log(data);\n  // console.log(components);\n\n  return (\n\n    <div ref={ref} style={{ ...style, opacity }} className=\"base draggable row\">\n      {data.componentType !== 'row' ? data.id : `new row ${data.id}`}\n      {/* {\n        data.componentType !== 'row' && */}\n      <div className=\"columns\">\n        {\n          data.componentType !== 'row' &&\n          data.children.map((column, index) => {\n            const currentPath = `${path}-${index}`;\n\n            return (\n              <React.Fragment key={column.id}>\n                <DropZone\n                  data={{\n                    path: currentPath,\n                    childrenCount: data.children.length,\n                  }}\n                  onDrop={handleDrop}\n                  className=\"horizontalDrag\"\n                />\n                {renderColumn(column, currentPath)}\n              </React.Fragment>\n            );\n          })\n        }\n        <DropZone\n          data={{\n            path: `${path}-${data.children.length}`,\n            childrenCount: data.children.length\n          }}\n          onDrop={handleDrop}\n          className=\"horizontalDrag\"\n          isLast\n        />\n      </div>\n      {/* } */}\n\n    </div>\n  );\n};\nexport default Row;\n","import { COMPONENT, ROW, COLUMN } from \"./constants\";\n\nconst initialData = {\n  layout: [\n    {\n      type: ROW,\n      id: \"row0\",\n      children: [\n        {\n          type: COLUMN,\n          id: \"column0\",\n          children: [\n            {\n              type: COMPONENT,\n              id: \"component0\"\n            },\n            {\n              type: COMPONENT,\n              id: \"component1\"\n            }\n          ]\n        },\n        {\n          type: COLUMN,\n          id: \"column1\",\n          children: [\n            {\n              type: COMPONENT,\n              id: \"component2\"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: ROW,\n      id: \"row1\",\n      children: [\n        {\n          type: COLUMN,\n          id: \"column2\",\n          children: [\n            {\n              type: COMPONENT,\n              id: \"component3\"\n            },\n            {\n              type: COMPONENT,\n              id: \"component0\"\n            },\n            {\n              type: COMPONENT,\n              id: \"component2\"\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  components: {\n    component0: { id: \"component0\", type: \"input\", content: \"Some input\" },\n    component1: { id: \"component1\", type: \"image\", content: \"Some image\" },\n    component2: { id: \"component2\", type: \"email\", content: \"Some email\" },\n    component3: { id: \"component3\", type: \"name\", content: \"Some name\" },\n    component4: { id: \"component4\", type: \"phone\", content: \"Some phone\" }\n  }\n};\n\nexport default initialData;\n","import shortid from \"shortid\";\nimport { ROW, COLUMN, COMPONENT } from \"./constants\";\n\n// a little function to help us with reordering the result\nexport const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed); // inserting task in new index\n\n  return result;\n};\n\nexport const remove = (arr, index) => [\n  // part of the array before the specified index\n  ...arr.slice(0, index),\n  // part of the array after the specified index\n  ...arr.slice(index + 1)\n];\n\nexport const insert = (arr, index, newItem) => [\n  // part of the array before the specified index\n  ...arr.slice(0, index),\n  // inserted item\n  newItem,\n  // part of the array after the specified index\n  ...arr.slice(index)\n];\n\nexport const reorderChildren = (children, splitDropZonePath, splitItemPath) => {\n  if (splitDropZonePath.length === 1) {\n    const dropZoneIndex = Number(splitDropZonePath[0]);\n    const itemIndex = Number(splitItemPath[0]);\n    return reorder(children, itemIndex, dropZoneIndex);\n  }\n\n  const updatedChildren = [...children];\n\n  const curIndex = Number(splitDropZonePath.slice(0, 1));\n\n  // Update the specific node's children\n  const splitDropZoneChildrenPath = splitDropZonePath.slice(1);\n  const splitItemChildrenPath = splitItemPath.slice(1);\n  const nodeChildren = updatedChildren[curIndex];\n  updatedChildren[curIndex] = {\n    ...nodeChildren,\n    children: reorderChildren(\n      nodeChildren.children,\n      splitDropZoneChildrenPath,\n      splitItemChildrenPath\n    )\n  };\n\n  return updatedChildren;\n};\n\nexport const removeChildFromChildren = (children, splitItemPath) => {\n  if (splitItemPath.length === 1) {\n    const itemIndex = Number(splitItemPath[0]);\n    return remove(children, itemIndex);\n  }\n\n  const updatedChildren = [...children];\n\n  const curIndex = Number(splitItemPath.slice(0, 1));\n\n  // Update the specific node's children\n  const splitItemChildrenPath = splitItemPath.slice(1);\n  const nodeChildren = updatedChildren[curIndex];\n  updatedChildren[curIndex] = {\n    ...nodeChildren,\n    children: removeChildFromChildren(\n      nodeChildren.children,\n      splitItemChildrenPath\n    )\n  };\n\n  return updatedChildren;\n};\n\nexport const addChildToChildren = (children, splitDropZonePath, item) => {\n  // console.log(item)\n  if (splitDropZonePath.length === 1) {\n    const dropZoneIndex = Number(splitDropZonePath[0]);\n    return insert(children, dropZoneIndex, item);\n  }\n\n  const updatedChildren = [...children];\n\n  const curIndex = Number(splitDropZonePath.slice(0, 1));\n\n  // Update the specific node's children\n  const splitItemChildrenPath = splitDropZonePath.slice(1);\n  const nodeChildren = updatedChildren[curIndex];\n  updatedChildren[curIndex] = {\n    ...nodeChildren,\n    children: addChildToChildren(\n      nodeChildren.children,\n      splitItemChildrenPath,\n      item\n    )\n  };\n\n  return updatedChildren;\n};\n\nexport const handleMoveWithinParent = (\n  layout,\n  splitDropZonePath,\n  splitItemPath\n) => {\n  return reorderChildren(layout, splitDropZonePath, splitItemPath);\n};\n\nexport const handleAddColumDataToRow = layout => {\n  const layoutCopy = [...layout];\n  const COLUMN_STRUCTURE = {\n    type: COLUMN,\n    id: shortid.generate(),\n    children: []\n  };\n\n  return layoutCopy.map(row => {\n    if (!row.children.length) {\n      row.children = [COLUMN_STRUCTURE];\n    }\n    return row;\n  });\n};\n\nexport const handleMoveToDifferentParent = (\n  layout,\n  splitDropZonePath,\n  splitItemPath,\n  item\n) => {\n  let newLayoutStructure;\n  const COLUMN_STRUCTURE = {\n    type: COLUMN,\n    id: shortid.generate(),\n    children: [item]\n  };\n\n  const ROW_STRUCTURE = {\n    type: ROW,\n    id: shortid.generate()\n  };\n\n  switch (splitDropZonePath.length) {\n    case 1: {\n      // moving column outside into new row made on the fly\n      if (item.type === COLUMN) {\n        newLayoutStructure = {\n          ...ROW_STRUCTURE,\n          children: [item]\n        };\n      } else {\n        // moving component outside into new row made on the fly\n        newLayoutStructure = {\n          ...ROW_STRUCTURE,\n          children: [COLUMN_STRUCTURE]\n        };\n      }\n      break;\n    }\n    case 2: {\n      // moving component outside into a row which creates column\n      if (item.type === COMPONENT) {\n        newLayoutStructure = COLUMN_STRUCTURE;\n      } else {\n        // moving column into existing row\n        newLayoutStructure = item;\n      }\n\n      break;\n    }\n    default: {\n      newLayoutStructure = item;\n    }\n  }\n\n  let updatedLayout = layout;\n  updatedLayout = removeChildFromChildren(updatedLayout, splitItemPath);\n  updatedLayout = handleAddColumDataToRow(updatedLayout);\n  updatedLayout = addChildToChildren(\n    updatedLayout,\n    splitDropZonePath,\n    newLayoutStructure\n  );\n\n  return updatedLayout;\n};\n\nexport const handleMoveSidebarComponentIntoParent = (\n  layout,\n  splitDropZonePath,\n  item\n) => {\n  let newLayoutStructure;\n  switch (splitDropZonePath.length) {\n    case 1: {\n\n      newLayoutStructure = {\n        type: ROW,\n        id: shortid.generate(),\n        children: [{ type: COLUMN, id: shortid.generate(), children: [item] }],\n        componentType: item.componentType\n      };\n      break;\n    }\n    case 2: {\n\n      newLayoutStructure = {\n        type: COLUMN,\n        id: shortid.generate(),\n        children: [item],\n        componentType: item.componentType\n      };\n      break;\n    }\n    default: {\n      newLayoutStructure = item;\n    }\n  }\n  // console.log(newLayoutStructure)\n  return addChildToChildren(layout, splitDropZonePath, newLayoutStructure);\n};\n\nexport const handleRemoveItemFromLayout = (layout, splitItemPath) => {\n  return removeChildFromChildren(layout, splitItemPath);\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\n\nconst TextArea = ({ layout, components }) => {\n    // console.log(layout, components);\n    const [fullObject, setFullObject] = useState({});\n\n    useEffect(() => {\n        // console.log(\"h\")\n        const value = {\n            'layout': layout,\n        };\n        const pretty = JSON.stringify(value, undefined, 2);\n        setFullObject(pretty);\n        // console.log(fullObject);\n    });\n\n    return (\n        <div>\n            <h4>Full Object Data:</h4>\n            <textarea defaultValue={fullObject} name=\"\" id=\"\" cols=\"100\" rows=\"50\" />\n        </div>\n    );\n};\n\nexport default TextArea;","import React, { useState, useCallback } from \"react\";\n\nimport DropZone from \"./DropZone\";\nimport TrashDropZone from \"./TrashDropZone\";\nimport SideBarItem from \"./SideBarItem\";\nimport Row from \"./Row\";\nimport initialData from \"./initial-data\";\nimport {\n  handleMoveWithinParent,\n  handleMoveToDifferentParent,\n  handleMoveSidebarComponentIntoParent,\n  handleRemoveItemFromLayout\n} from \"./helpers\";\n\nimport { SIDEBAR_ITEMS, SIDEBAR_ITEM, COMPONENT, COLUMN } from \"./constants\";\nimport shortid from \"shortid\";\nimport TextArea from \"./TextArea\";\n\nconst Container = () => {\n  const initialLayout = initialData.layout;\n  const initialComponents = initialData.components;\n  const [layout, setLayout] = useState(initialLayout);\n  const [components, setComponents] = useState(initialComponents);\n\n  const handleDropToTrashBin = useCallback(\n    (dropZone, item) => {\n      const splitItemPath = item.path.split(\"-\");\n      setLayout(handleRemoveItemFromLayout(layout, splitItemPath));\n    },\n    [layout]\n  );\n\n  const handleDrop = useCallback(\n    (dropZone, item) => {\n      // console.log('dropZone', dropZone)\n      // console.log('item', item)\n\n      const splitDropZonePath = dropZone.path.split(\"-\");\n      const pathToDropZone = splitDropZonePath.slice(0, -1).join(\"-\");\n\n      const newItem = { id: item.id, type: item.type };\n      // console.log('newItem', item)\n      if (item.type === COLUMN) {\n        newItem.children = item.children;\n      }\n\n      // sidebar into\n      if (item.type === SIDEBAR_ITEM) {\n        // 1. Move sidebar item into page\n        const newComponent = {\n          id: shortid.generate(),\n          ...item.component\n        };\n        const newItem = {\n          id: newComponent.id,\n          type: COMPONENT,\n          componentType: newComponent.type,\n\n        };\n        setComponents({\n          ...components,\n          [newComponent.id]: newComponent\n        });\n        setLayout(\n          handleMoveSidebarComponentIntoParent(\n            layout,\n            splitDropZonePath,\n            newItem\n          )\n        );\n        return;\n      }\n\n      // move down here since sidebar items dont have path\n      const splitItemPath = item.path.split(\"-\");\n      const pathToItem = splitItemPath.slice(0, -1).join(\"-\");\n\n      // 2. Pure move (no create)\n      if (splitItemPath.length === splitDropZonePath.length) {\n        // 2.a. move within parent\n        if (pathToItem === pathToDropZone) {\n          setLayout(\n            handleMoveWithinParent(layout, splitDropZonePath, splitItemPath)\n          );\n          return;\n        }\n\n        // 2.b. OR move different parent\n        // TODO FIX columns. item includes children\n        setLayout(\n          handleMoveToDifferentParent(\n            layout,\n            splitDropZonePath,\n            splitItemPath,\n            newItem\n          )\n        );\n        return;\n      }\n\n      // 3. Move + Create\n      setLayout(\n        handleMoveToDifferentParent(\n          layout,\n          splitDropZonePath,\n          splitItemPath,\n          newItem\n        )\n      );\n    },\n    [layout, components]\n  );\n  // console.log(initialData);\n  const renderRow = (row, currentPath) => {\n    return (\n      // console.log(components)\n      <Row\n        key={row.id}\n        data={row}\n        handleDrop={handleDrop}\n        components={components}\n        path={currentPath}\n      />\n    );\n  };\n\n  const renderTextArea=(layout, components)=>{\n    return (\n      <TextArea\n        layout={layout}\n        components={components}\n      />\n    )\n  }\n  // dont use index for key when mapping over items\n  // causes this issue - https://github.com/react-dnd/react-dnd/issues/342\n  return (\n    <div className=\"body\">\n      <div className=\"sideBar\">\n        {Object.values(SIDEBAR_ITEMS).map((sideBarItem, index) => (\n          <SideBarItem key={sideBarItem.id} data={sideBarItem} />\n        ))}\n      </div>\n      <div className=\"pageContainer\">\n        <div className=\"page\">\n          {layout.map((row, index) => {\n            // console.log(layout)\n            const currentPath = `${index}`;\n\n            return (\n              <React.Fragment key={row.id}>\n                <DropZone\n                  data={{\n                    path: currentPath,\n                    childrenCount: layout.length\n                  }}\n                  onDrop={handleDrop}\n                  path={currentPath}\n                />\n                {renderRow(row, currentPath)}\n              </React.Fragment>\n            );\n          })}\n          <DropZone\n            data={{\n              path: `${layout.length}`,\n              childrenCount: layout.length\n            }}\n            onDrop={handleDrop}\n            isLast\n          />\n        </div>\n\n        <TrashDropZone\n          data={{\n            layout\n          }}\n          onDrop={handleDropToTrashBin}\n        />\n        {renderTextArea(layout, components)}\n      </div>\n    </div>\n  );\n};\nexport default Container;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Example from \"./example\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DndProvider backend={Backend}>\n        <Example />\n      </DndProvider>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}