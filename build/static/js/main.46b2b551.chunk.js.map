{"version":3,"sources":["constants.js","DropZone.jsx","TrashDropZone.jsx","SideBarItem.jsx","Popup.jsx","Component.jsx","Column.jsx","Row.jsx","initial-data.js","helpers.js","TextArea.jsx","example.jsx","index.js"],"names":["ROW","COLUMN","SIDEBAR_ITEMS","id","shortid","generate","type","component","content","ACCEPTS","DropZone","_ref","data","onDrop","isLast","className","_useDrop","useDrop","accept","drop","item","monitor","canDrop","dropZonePath","path","splitDropZonePath","split","itemPath","splitItemPath","length","childrenCount","pathToItem","slice","join","currentItemIndex","Number","pathToDropZone","currentDropZoneIndex","collect","isOver","_useDrop2","Object","slicedToArray","_useDrop2$","isActive","react_default","a","createElement","classNames","active","ref","TrashDropZone","layout","itemPathRowIndex","itemRowChildrenLength","children","SideBarItem","_useDrag","useDrag","opacity","isDragging","_useDrag2","drag","style","Popup","setIsOpen","itemId","Fragment","onClick","border","padding","backgroundColor","cursor","Component","components","useRef","_useState","useState","_useState2","isOpen","objectSpread","src_Popup","Column","handleDrop","componentType","concat","map","index","currentPath","key","src_DropZone","src_Component","renderComponent","Row","column","lib","enable","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","src_Column","renderColumn","initialData","component0","component1","component2","component3","component4","reorderChildren","dropZoneIndex","list","startIndex","endIndex","result","Array","from","_result$splice","splice","removed","reorder","updatedChildren","toConsumableArray","curIndex","splitDropZoneChildrenPath","splitItemChildrenPath","nodeChildren","removeChildFromChildren","itemIndex","arr","addChildToChildren","newItem","handleMoveToDifferentParent","newLayoutStructure","COLUMN_STRUCTURE","ROW_STRUCTURE","updatedLayout","layoutCopy","row","handleAddColumDataToRow","TextArea","fullObject","setFullObject","useEffect","value","pretty","JSON","stringify","undefined","defaultValue","name","cols","rows","Container","initialLayout","initialComponents","setLayout","_useState3","_useState4","setComponents","_useState5","_useState6","handleDropToTrashBin","useCallback","dropZone","handleRemoveItemFromLayout","newComponent","defineProperty","handleMoveSidebarComponentIntoParent","handleMoveWithinParent","values","sideBarItem","src_SideBarItem","src_Row","renderRow","src_TrashDropZone","src_TextArea","renderTextArea","App","DndProvider","backend","Backend","example","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.46b2b551.chunk.js","sourcesContent":["import shortid from \"shortid\";\n\nexport const SIDEBAR_ITEM = \"sidebarItem\";\nexport const ROW = \"row\";\nexport const COLUMN = \"column\";\nexport const COMPONENT = \"component\";\n\nexport const SIDEBAR_ITEMS = [\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"input\",\n      content: \"Some input\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"name\",\n      content: \"Some name\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"email\",\n      content: \"Some email\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"phone\",\n      content: \"Some phone\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"image\",\n      content: \"Some image\"\n    }\n  },\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"row\",\n      content: \"Some row\"\n    }\n  }\n  ,\n  {\n    id: shortid.generate(),\n    type: SIDEBAR_ITEM,\n    component: {\n      type: \"column\",\n      content: \"Some column\"\n    }\n  }\n];\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { useDrop } from \"react-dnd\";\nimport { COMPONENT, SIDEBAR_ITEM, ROW, COLUMN } from \"./constants\";\n\n// console.log(SIDEBAR_ITEMS);\nconst ACCEPTS = [SIDEBAR_ITEM, COMPONENT, ROW, COLUMN];\n// console.log(ACCEPTS);\nconst DropZone = ({ data, onDrop, isLast, className }) => {\n  // console.log({ data, onDrop, isLast, className });\n  // console.log(data);\n  const [{ isOver, canDrop }, drop] = useDrop({\n    accept: ACCEPTS,\n    drop: (item, monitor) => {\n      onDrop(data, item);\n    },\n    canDrop: (item, monitor) => {\n      // console.log(monitor);\n\n      const dropZonePath = data.path;\n      const splitDropZonePath = dropZonePath.split(\"-\");\n      const itemPath = item.path;\n      // console.log(splitDropZonePath);\n      // console.log(itemPath);\n      // sidebar items can always be dropped anywhere\n      if (!itemPath) {\n        // if (data.childrenCount >= 3) {\n        //  return false;\n        // }\n        return true;\n\n      }\n      \n      const splitItemPath = itemPath.split(\"-\");\n\n      // limit columns when dragging from one row to another row\n      const dropZonePathRowIndex = splitDropZonePath[0];\n      const itemPathRowIndex = splitItemPath[0];\n      const diffRow = dropZonePathRowIndex !== itemPathRowIndex;\n      if (\n        diffRow &&\n        splitDropZonePath.length === 2 &&\n        data.childrenCount >= 3\n      ) {\n        return false;\n      }\n \n      // Invalid (Can't drop a parent element (row) into a child (column))\n      const parentDropInChild = splitItemPath.length < splitDropZonePath.length;\n      if (parentDropInChild) return false;\n\n      // Current item can't possible move to it's own location\n      if (itemPath === dropZonePath) return false;\n\n      // Current area\n      if (splitItemPath.length === splitDropZonePath.length) {\n        const pathToItem = splitItemPath.slice(0, -1).join(\"-\");\n        const currentItemIndex = Number(splitItemPath.slice(-1)[0]);\n\n        const pathToDropZone = splitDropZonePath.slice(0, -1).join(\"-\");\n        const currentDropZoneIndex = Number(splitDropZonePath.slice(-1)[0]);\n\n        if (pathToItem === pathToDropZone) {\n          const nextDropZoneIndex = currentItemIndex + 1;\n          if (nextDropZoneIndex === currentDropZoneIndex) return false;\n        }\n      }\n\n      return true;\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n\n    })\n  });\n\n  const isActive = isOver && canDrop;\n  // console.log(isOver, canDrop);\n  return (\n    <div\n      className={classNames(\n        \"dropZone\",\n        { active: isActive, isLast },\n        className\n      )}\n      ref={drop}\n    />\n  );\n};\nexport default DropZone;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { useDrop } from \"react-dnd\";\nimport { COMPONENT, ROW, COLUMN } from \"./constants\";\n\nconst ACCEPTS = [ROW, COLUMN, COMPONENT];\n\nconst TrashDropZone = ({ data, onDrop }) => {\n  const [{ isOver, canDrop }, drop] = useDrop({\n    accept: ACCEPTS,\n    drop: (item, monitor) => {\n      onDrop(data, item);\n    },\n    canDrop: (item, monitor) => {\n      const layout = data.layout;\n      const itemPath = item.path;\n      const splitItemPath = itemPath.split(\"-\");\n      const itemPathRowIndex = splitItemPath[0];\n      const itemRowChildrenLength =\n        layout[itemPathRowIndex] && layout[itemPathRowIndex].children.length;\n\n      // prevent removing a col when row has only one col\n      if (\n        item.type === COLUMN &&\n        itemRowChildrenLength &&\n        itemRowChildrenLength < 2\n      ) {\n        return false;\n      }\n\n      return true;\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n\n  const isActive = isOver && canDrop;\n  return (\n    <div\n      className={classNames(\"trashDropZone\", { active: isActive })}\n      ref={drop}\n    >\n      TRASH\n    </div>\n  );\n};\nexport default TrashDropZone;\n","import React from \"react\";\nimport { useDrag } from \"react-dnd\";\n\nconst SideBarItem = ({ data }) => {\n  // console.log(data);\n  const [{ opacity }, drag] = useDrag({\n    item: data,\n    collect: monitor => ({\n      opacity: monitor.isDragging() ? 0.4 : 1\n    })\n  });\n  \n  return (\n    <div className=\"sideBarItem\" ref={drag} style={{ opacity }}>\n      {data.component.type}\n    </div>\n  );\n};\nexport default SideBarItem;\n","import React from 'react';\n\nconst Popup = ({setIsOpen, itemId}) => {  \n    // console.log(itemId, setIsOpen(true));\n    return (\n       \n          <>\n            <div className=\"overlay\"></div>\n            <div className=\"modal\">\n              <header className=\"modal__header\">\n                <h2>Item Id</h2>\n                <button onClick={()=>{setIsOpen(false)}} className=\"close-button\">&times;</button>\n              </header>\n              <main className=\"modal__main\">\n                <p>{itemId}</p>\n              </main>\n            </div>\n          </>\n    );\n};\n\nexport default Popup;","import React, { useState, useRef } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { COMPONENT } from \"./constants\";\nimport Popup from \"./Popup\";\n\nconst style = {\n  border: \"1px dashed black\",\n  padding: \"0.5rem 1rem\",\n  backgroundColor: \"white\",\n  cursor: \"move\"\n};\nconst Component = ({ data, components, path }) => {\n\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: { type: COMPONENT, id: data.id, path },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(ref);\n\n  const component = components[data.id];\n  // console.log(component, data.id);\n\n\n  //popup\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <div\n        ref={ref}\n        style={{ ...style, opacity }}\n        className=\"component draggable\"\n        onClick={() => { setIsOpen(true) }}\n      >\n        <div>{data.id}</div>\n        <div>{component.content}</div>\n\n      </div>\n      {/* {console.log(isOpen, data.id)} */}\n      {isOpen && (\n        // console.log(isOpen,data.id)\n        <Popup setIsOpen={setIsOpen} itemId={data.id} />\n      )}\n    </>\n  );\n};\nexport default Component;\n","import React, { useRef } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { COLUMN } from \"./constants\";\nimport DropZone from \"./DropZone\";\nimport Component from \"./Component\";\n\nconst style = {};\nconst Column = ({ data, components, handleDrop, path }) => {\n  // console.log(data, components)\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      type: COLUMN,\n      id: data.id,\n      children: data.children,\n      path\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(ref);\n\n  const renderComponent = (component, currentPath) => {\n    return (\n      <Component\n        key={component.id}\n        data={component}\n        components={components}\n        path={currentPath}\n      />\n    );\n  };\n\n  return (\n    data.componentType !== 'row' ? (\n      <div\n        ref={ref}\n        style={{ ...style, opacity }}\n        className=\"base draggable column\"\n      >\n        {/* {console.log(data.componentType)} */}\n        {data.componentType !== 'column' ? data.id : `new column ${data.id}`}\n\n        {\n          data.componentType !== 'column' &&\n          data.children.map((component, index) => {\n            const currentPath = `${path}-${index}`;\n\n            return (\n              <React.Fragment key={component.id}>\n                <DropZone\n                  data={{\n                    path: currentPath,\n                    childrenCount: data.children.length\n                  }}\n                  onDrop={handleDrop}\n                />\n\n                {\n                  data.componentType !== 'column' &&\n                  renderComponent(component, currentPath)\n                }\n              </React.Fragment>\n            );\n          })}\n        <DropZone\n          data={{\n            path: `${path}-${data.children.length}`,\n            childrenCount: data.children.length\n          }}\n          onDrop={handleDrop}\n          isLast\n        />\n      </div>) : (<></>)\n  );\n};\nexport default Column;\n","import React, { useRef } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { ROW } from \"./constants\";\nimport DropZone from \"./DropZone\";\nimport Column from \"./Column\";\nimport { Resizable } from \"re-resizable\";\n\nconst style = {};\nconst Row = ({ data, components, handleDrop, path }) => {\n  // console.log(data);\n  // console.log(components);\n  // console.log(handleDrop);\n  // console.log(path);\n\n\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      type: ROW,\n      id: data.id,\n      children: data.children,\n      path\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(ref);\n\n  const renderColumn = (column, currentPath) => {\n    return (\n      <Resizable enable={{ top: false, right: true, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n      >\n        <Column\n          key={column.id}\n          data={column}\n          components={components}\n          handleDrop={handleDrop}\n          path={currentPath}\n        />\n      </Resizable>\n\n    );\n  };\n  // console.log(data);\n  // console.log(components);\n\n  return (\n\n    <div ref={ref} style={{ ...style, opacity }} className=\"base draggable row\">\n      {data.componentType !== 'row' ? data.id : `new row ${data.id}`}\n      {/* {\n        data.componentType !== 'row' && */}\n      <div className=\"columns\">\n        {\n\n          data.children.map((column, index) => {\n            const currentPath = `${path}-${index}`;\n\n            return (\n              <React.Fragment key={column.id}>\n                <DropZone\n                  data={{\n                    path: currentPath,\n                    childrenCount: data.children.length,\n                  }}\n                  onDrop={handleDrop}\n                  className=\"horizontalDrag\"\n                />\n                {\n                 \n                  data.componentType !== 'row' &&\n                  renderColumn(column, currentPath)\n\n                }\n              </React.Fragment>\n            );\n          })\n        }\n        {\n          // data.componentType !== \"column\" &&\n          <DropZone\n            data={{\n              path: `${path}-${data.children.length}`,\n              childrenCount: data.children.length\n            }}\n            onDrop={handleDrop}\n            className=\"horizontalDrag\"\n            isLast\n          />\n        }\n\n      </div>\n      {/* } */}\n\n    </div>\n  );\n};\nexport default Row;\n","import { COMPONENT, ROW, COLUMN } from \"./constants\";\n\nconst initialData = {\n  layout: [\n    {\n      type: ROW,\n      id: \"row0\",\n      children: [\n        {\n          type: COLUMN,\n          id: \"column0\",\n          children: [\n            {\n              type: COMPONENT,\n              id: \"component0\"\n            },\n            {\n              type: COMPONENT,\n              id: \"component1\"\n            }\n          ]\n        },\n        {\n          type: COLUMN,\n          id: \"column1\",\n          children: [\n            {\n              type: COMPONENT,\n              id: \"component2\"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: ROW,\n      id: \"row1\",\n      children: [\n        {\n          type: COLUMN,\n          id: \"column2\",\n          children: [\n            {\n              type: COMPONENT,\n              id: \"component3\"\n            },\n            {\n              type: COMPONENT,\n              id: \"component0\"\n            },\n            {\n              type: COMPONENT,\n              id: \"component2\"\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  components: {\n    component0: { id: \"component0\", type: \"input\", content: \"Some input\" },\n    component1: { id: \"component1\", type: \"image\", content: \"Some image\" },\n    component2: { id: \"component2\", type: \"email\", content: \"Some email\" },\n    component3: { id: \"component3\", type: \"name\", content: \"Some name\" },\n    component4: { id: \"component4\", type: \"phone\", content: \"Some phone\" }\n  }\n};\n\nexport default initialData;\n","import shortid from \"shortid\";\nimport { ROW, COLUMN, COMPONENT } from \"./constants\";\n\n// a little function to help us with reordering the result\nexport const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed); // inserting task in new index\n\n  return result;\n};\n\nexport const remove = (arr, index) => [\n  // part of the array before the specified index\n  ...arr.slice(0, index),\n  // part of the array after the specified index\n  ...arr.slice(index + 1)\n];\n\nexport const insert = (arr, index, newItem) => [\n  // part of the array before the specified index\n  ...arr.slice(0, index),\n  // inserted item\n  newItem,\n  // part of the array after the specified index\n  ...arr.slice(index)\n];\n\nexport const reorderChildren = (children, splitDropZonePath, splitItemPath) => {\n  if (splitDropZonePath.length === 1) {\n    const dropZoneIndex = Number(splitDropZonePath[0]);\n    const itemIndex = Number(splitItemPath[0]);\n    return reorder(children, itemIndex, dropZoneIndex);\n  }\n\n  const updatedChildren = [...children];\n\n  const curIndex = Number(splitDropZonePath.slice(0, 1));\n\n  // Update the specific node's children\n  const splitDropZoneChildrenPath = splitDropZonePath.slice(1);\n  const splitItemChildrenPath = splitItemPath.slice(1);\n  const nodeChildren = updatedChildren[curIndex];\n  updatedChildren[curIndex] = {\n    ...nodeChildren,\n    children: reorderChildren(\n      nodeChildren.children,\n      splitDropZoneChildrenPath,\n      splitItemChildrenPath\n    )\n  };\n\n  return updatedChildren;\n};\n\nexport const removeChildFromChildren = (children, splitItemPath) => {\n  if (splitItemPath.length === 1) {\n    const itemIndex = Number(splitItemPath[0]);\n    return remove(children, itemIndex);\n  }\n\n  const updatedChildren = [...children];\n\n  const curIndex = Number(splitItemPath.slice(0, 1));\n\n  // Update the specific node's children\n  const splitItemChildrenPath = splitItemPath.slice(1);\n  const nodeChildren = updatedChildren[curIndex];\n  updatedChildren[curIndex] = {\n    ...nodeChildren,\n    children: removeChildFromChildren(\n      nodeChildren.children,\n      splitItemChildrenPath\n    )\n  };\n\n  return updatedChildren;\n};\n\nexport const addChildToChildren = (children, splitDropZonePath, item) => {\n  // console.log(item)\n  if (splitDropZonePath.length === 1) {\n    const dropZoneIndex = Number(splitDropZonePath[0]);\n    return insert(children, dropZoneIndex, item);\n  }\n\n  const updatedChildren = [...children];\n\n  const curIndex = Number(splitDropZonePath.slice(0, 1));\n\n  // Update the specific node's children\n  const splitItemChildrenPath = splitDropZonePath.slice(1);\n  const nodeChildren = updatedChildren[curIndex];\n  updatedChildren[curIndex] = {\n    ...nodeChildren,\n    children: addChildToChildren(\n      nodeChildren.children,\n      splitItemChildrenPath,\n      item\n    )\n  };\n\n  return updatedChildren;\n};\n\nexport const handleMoveWithinParent = (\n  layout,\n  splitDropZonePath,\n  splitItemPath\n) => {\n  return reorderChildren(layout, splitDropZonePath, splitItemPath);\n};\n\nexport const handleAddColumDataToRow = layout => {\n  const layoutCopy = [...layout];\n  const COLUMN_STRUCTURE = {\n    type: COLUMN,\n    id: shortid.generate(),\n    children: []\n  };\n\n  return layoutCopy.map(row => {\n    if (!row.children.length) {\n      row.children = [COLUMN_STRUCTURE];\n    }\n    return row;\n  });\n};\n\nexport const handleMoveToDifferentParent = (\n  layout,\n  splitDropZonePath,\n  splitItemPath,\n  item\n) => {\n  let newLayoutStructure;\n  const COLUMN_STRUCTURE = {\n    type: COLUMN,\n    id: shortid.generate(),\n    children: [item]\n  };\n\n  const ROW_STRUCTURE = {\n    type: ROW,\n    id: shortid.generate()\n  };\n\n  switch (splitDropZonePath.length) {\n    case 1: {\n      // moving column outside into new row made on the fly\n      if (item.type === COLUMN) {\n        newLayoutStructure = {\n          ...ROW_STRUCTURE,\n          children: [item]\n        };\n      } else {\n        // moving component outside into new row made on the fly\n        newLayoutStructure = {\n          ...ROW_STRUCTURE,\n          children: [COLUMN_STRUCTURE]\n        };\n      }\n      break;\n    }\n    case 2: {\n      // moving component outside into a row which creates column\n      if (item.type === COMPONENT) {\n        newLayoutStructure = COLUMN_STRUCTURE;\n      } else {\n        // moving column into existing row\n        newLayoutStructure = item;\n      }\n\n      break;\n    }\n    default: {\n      newLayoutStructure = item;\n    }\n  }\n\n  let updatedLayout = layout;\n  updatedLayout = removeChildFromChildren(updatedLayout, splitItemPath);\n  updatedLayout = handleAddColumDataToRow(updatedLayout);\n  updatedLayout = addChildToChildren(\n    updatedLayout,\n    splitDropZonePath,\n    newLayoutStructure\n  );\n\n  return updatedLayout;\n};\n\nexport const handleMoveSidebarComponentIntoParent = (\n  layout,\n  splitDropZonePath,\n  item\n) => {\n  let newLayoutStructure;\n  switch (splitDropZonePath.length) {\n    case 1: {\n\n      newLayoutStructure = {\n        type: ROW,\n        id: shortid.generate(),\n        children: [{ type: COLUMN, id: shortid.generate(), children: [item] }],\n        componentType: item.componentType\n      };\n      break;\n    }\n    case 2: {\n\n      newLayoutStructure = {\n        type: COLUMN,\n        id: shortid.generate(),\n        children: [item],\n        componentType: item.componentType\n      };\n      break;\n    }\n    default: {\n      newLayoutStructure = item;\n    }\n  }\n  // console.log(newLayoutStructure)\n  return addChildToChildren(layout, splitDropZonePath, newLayoutStructure);\n};\n\nexport const handleRemoveItemFromLayout = (layout, splitItemPath) => {\n  return removeChildFromChildren(layout, splitItemPath);\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\n\nconst TextArea = ({ layout, components }) => {\n    // console.log(layout, components);\n    const [fullObject, setFullObject] = useState({});\n\n    useEffect(() => {\n        // console.log(\"h\")\n        const value = {\n            'layout': layout,\n        };\n        const pretty = JSON.stringify(value, undefined, 2);\n        setFullObject(pretty);\n        // console.log(fullObject);\n    });\n\n    return (\n        <div>\n            <h4>Full Object Data:</h4>\n            <textarea defaultValue={fullObject} name=\"\" id=\"\" cols=\"100\" rows=\"50\" />\n        </div>\n    );\n};\n\nexport default TextArea;","import React, { useState, useCallback, useEffect } from \"react\";\n\nimport DropZone from \"./DropZone\";\nimport TrashDropZone from \"./TrashDropZone\";\nimport SideBarItem from \"./SideBarItem\";\nimport Row from \"./Row\";\nimport initialData from \"./initial-data\";\nimport {\n  handleMoveWithinParent,\n  handleMoveToDifferentParent,\n  handleMoveSidebarComponentIntoParent,\n  handleRemoveItemFromLayout\n} from \"./helpers\";\n\nimport { SIDEBAR_ITEMS, SIDEBAR_ITEM, COMPONENT, COLUMN } from \"./constants\";\nimport shortid from \"shortid\";\nimport TextArea from \"./TextArea\";\n\nconst Container = () => {\n  const initialLayout = initialData.layout;\n  const initialComponents = initialData.components;\n  const [layout, setLayout] = useState(initialLayout);\n  const [components, setComponents] = useState(initialComponents);\n\n  const [isDropZone, setIsDropZone] = useState(true);\n\n  const handleDropToTrashBin = useCallback(\n    (dropZone, item) => {\n      const splitItemPath = item.path.split(\"-\");\n      setLayout(handleRemoveItemFromLayout(layout, splitItemPath));\n    },\n    [layout]\n  );\n\n  const handleDrop = useCallback(\n    (dropZone, item) => {\n      // console.log('dropZone', dropZone)\n      // console.log('item', item)\n\n      const splitDropZonePath = dropZone.path.split(\"-\");\n      const pathToDropZone = splitDropZonePath.slice(0, -1).join(\"-\");\n\n      const newItem = { id: item.id, type: item.type };\n      // console.log('newItem', item)\n      if (item.type === COLUMN) {\n        newItem.children = item.children;\n      }\n\n      // sidebar into\n      if (item.type === SIDEBAR_ITEM) {\n        // 1. Move sidebar item into page\n        const newComponent = {\n          id: shortid.generate(),\n          ...item.component\n        };\n        const newItem = {\n          id: newComponent.id,\n          type: COMPONENT,\n          componentType: newComponent.type,\n\n        };\n        setComponents({\n          ...components,\n          [newComponent.id]: newComponent\n        });\n        setLayout(\n          handleMoveSidebarComponentIntoParent(\n            layout,\n            splitDropZonePath,\n            newItem\n          )\n        );\n        return;\n      }\n\n      // move down here since sidebar items dont have path\n      const splitItemPath = item.path.split(\"-\");\n      const pathToItem = splitItemPath.slice(0, -1).join(\"-\");\n\n      // 2. Pure move (no create)\n      if (splitItemPath.length === splitDropZonePath.length) {\n        // 2.a. move within parent\n        if (pathToItem === pathToDropZone) {\n          setLayout(\n            handleMoveWithinParent(layout, splitDropZonePath, splitItemPath)\n          );\n          return;\n        }\n\n        // 2.b. OR move different parent\n        // TODO FIX columns. item includes children\n        setLayout(\n          handleMoveToDifferentParent(\n            layout,\n            splitDropZonePath,\n            splitItemPath,\n            newItem\n          )\n        );\n        return;\n      }\n\n      // 3. Move + Create\n      setLayout(\n        handleMoveToDifferentParent(\n          layout,\n          splitDropZonePath,\n          splitItemPath,\n          newItem\n        )\n      );\n    },\n    [layout, components]\n  );\n  // console.log(initialData);\n  const renderRow = (row, currentPath) => {\n    return (\n      <Row\n        key={row.id}\n        data={row}\n        handleDrop={handleDrop}\n        components={components}\n        path={currentPath}\n      />\n    );\n  };\n\n  const renderTextArea = (layout, components) => {\n    return (\n      <TextArea\n        layout={layout}\n        components={components}\n      />\n    )\n  }\n  // dont use index for key when mapping over items\n  // causes this issue - https://github.com/react-dnd/react-dnd/issues/342\n  return (\n    <div className=\"body\">\n      <div className=\"sideBar\">\n        {Object.values(SIDEBAR_ITEMS).map((sideBarItem, index) => (\n          <SideBarItem key={sideBarItem.id} data={sideBarItem} />\n        ))}\n      </div>\n      <div className=\"pageContainer\">\n        <div className=\"page\">\n          {layout.map((row, index) => {\n            // console.log(layout)\n            const currentPath = `${index}`;\n\n            return (\n              <React.Fragment key={row.id}>\n                <DropZone\n                  data={{\n                    path: currentPath,\n                    childrenCount: layout.length\n                  }}\n                  onDrop={handleDrop}\n                  path={currentPath}\n                />\n\n                {row.componentType !== \"column\" && renderRow(row, currentPath)}\n              </React.Fragment>\n            );\n          })}\n            <DropZone\n              data={{\n                path: `${layout.length}`,\n                childrenCount: layout.length\n              }}\n              onDrop={handleDrop}\n              isLast\n            />\n        </div>\n\n        <TrashDropZone\n          data={{\n            layout\n          }}\n          onDrop={handleDropToTrashBin}\n        />\n        {renderTextArea(layout, components)}\n      </div>\n    </div>\n  );\n};\nexport default Container;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Example from \"./example\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DndProvider backend={Backend}>\n        <Example />\n      </DndProvider>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}